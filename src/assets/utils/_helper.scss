
// 定義顏色系統
$button-colors: (
  'primary': (
    'base': #0d6efd,
    'hover': #0257d5,
    'active': #024dbc,
    'focus': rgba(13, 110, 253, 0.25),
    'disabled': #80b3ff,
    'text': #ffffff
  ),
  'success': (
    'base': #198754,
    'hover': #146c43,
    'active': #0f5132,
    'focus': rgba(25, 135, 84, 0.25),
    'disabled': #8cc9a9,
    'text': #ffffff
  ),
  'warning': (
    'base': #ffc107,
    'hover': #ffca2c,
    'active': #ffcd39,
    'focus': rgba(255, 193, 7, 0.25),
    'disabled': #ffe69c,
    'text': #000000
  )
);

// 按鈕尺寸
$button-sizes: (
  'sm': (
    'padding-y': 0.25rem,
    'padding-x': 0.5rem,
    'font-size': 0.875rem,
    'border-radius': 0.25rem
  ),
  'md': (
    'padding-y': 0.5rem,
    'padding-x': 1rem,
    'font-size': 1rem,
    'border-radius': 0.375rem
  ),
  'lg': (
    'padding-y': 0.75rem,
    'padding-x': 1.5rem,
    'font-size': 1.125rem,
    'border-radius': 0.5rem
  )
);

// 基礎按鈕樣式
.custom-btn {
  display: inline-block;
  font-weight: 500;
  text-align: center;
  text-decoration: none;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:focus {
    outline: 0;
  }
}


@each $name, $shades in $button-colors {
  .custom-btn-#{$name} {
    @extend .custom-btn;

    background-color: map-get($shades, 'base');
    border-color: map-get($shades, 'base');
    color: map-get($shades, 'text');
    
    &:hover:not(:disabled) {
      background-color: map-get($shades, 'hover');
      border-color: map-get($shades, 'hover');
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(map-get($shades, 'base'), 0.3);
    }
    
    &:active:not(:disabled),
    &.active {
      background-color: map-get($shades, 'active');
      border-color: map-get($shades, 'active');
      transform: translateY(0);
    }
    
    &:focus {
      box-shadow: 0 0 0 0.25rem map-get($shades, 'focus');
    }
    
    &:disabled,
    &.disabled {
      background-color: map-get($shades, 'disabled');
      border-color: map-get($shades, 'disabled');
      opacity: 0.65;
      cursor: not-allowed;
      transform: none;
    }
  }
  
  // Outline 變體
  .custom-btn-outline-#{$name} {
    @extend .custom-btn;
    background-color: transparent;
    border-color: map-get($shades, 'base');
    color: map-get($shades, 'base');
    
    &:hover:not(:disabled) {
      background-color: map-get($shades, 'base');
      color: map-get($shades, 'text');
    }
  }
}


@each $name, $sizes in $button-sizes {
  .custom-btn-#{$name} {
    padding: map-get($sizes, 'padding-y') map-get($sizes, 'padding-x');
    font-size: map-get($sizes, 'font-size');
    border-radius: map-get($sizes, 'border-radius');
  }
}


// 自訂斷點
$breakpoints: (
  'mobile': 0,
  'tablet': 768px,
  'desktop': 1024px,
  'wide': 1440px
);

// 斷點 mixin
// min-width（大於等於）
@mixin respond-to($breakpoint) {
  $value: map-get($breakpoints, $breakpoint);
  
  @if $value == 0 {
    @content;
  } @else {
    @media (min-width: $value) {
      @content;
    }
  }
}

// max-width（小於）- 注意這裡減 1px
@mixin respond-below($breakpoint) {
  $value: map-get($breakpoints, $breakpoint);
  
  @if $value == 0 {
  } @else {
    @media (max-width: $value - 1px) {
      @content;
    }
  }
}


// 範圍
@mixin respond-between($min-breakpoint, $max-breakpoint) {
  $min-value: map-get($breakpoints, $min-breakpoint);
  $max-value: map-get($breakpoints, $max-breakpoint);
  
  @media (min-width: $min-value) and (max-width: $max-value - 1px) {
    @content;
  }
}

// 使用方法
// @each $breakpoint, $value in $breakpoints {
//   @include respond-to($breakpoint) {
//     @if $breakpoint == 'mobile' {
//       .d-#{$breakpoint}-block { display: block; }
//       .d-#{$breakpoint}-none { display: none; }
//     } @else {
//       .d-#{$breakpoint}-block { display: block; }
//       .d-#{$breakpoint}-none { display: none; }
//     }
//   }
// }

.special-layout {
  // 只在平板到桌面之間套用
  @include respond-between('tablet', 'desktop') {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
  }
}

.button {
  // 手機版（預設）
  @include respond-to('mobile') {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
  
  // 平板以上
  @include respond-to('tablet') {
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
  }
  
  // 桌面以上
  @include respond-to('desktop') {
    padding: 1rem 2rem;
    font-size: 1.125rem;
  }
}